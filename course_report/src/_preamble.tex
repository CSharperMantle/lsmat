\documentclass[a4paper]{article}

\usepackage{xeCJK}
\usepackage{ctex}
\usepackage{pdfpages}
\usepackage{titlesec}
\usepackage{fontspec}
\usepackage{booktabs}
\usepackage{graphicx}
\usepackage{float}
\usepackage{subfigure}
\usepackage{listings}
\usepackage{amsmath}
\usepackage{amssymb}
\usepackage{geometry}
\usepackage{xcolor}
\usepackage{fancyhdr}
\usepackage[hidelinks]{hyperref}
\usepackage{algpseudocode}
\usepackage{algorithm}
\usepackage{bm}
\usepackage{threeparttable}
\usepackage{textcomp}
\usepackage{tikz}
\usetikzlibrary{automata, positioning}

\graphicspath{ {../assets/} }

\pagestyle{fancy}
\fancyhf{}
\renewcommand{\headrulewidth}{0pt}
\fancyfoot[L]{程序设计实践报告}
\fancyfoot[R]{\thepage}
\fancyfoot[C]{}

\geometry{footskip=4cm}

\titleformat{\title}
{\centering\bfseries \zihao{4} \heiti}
{\thesection}
{1em}
{}

\titleformat{\section}
{\centering \color{xblue} \bfseries \zihao{4} \heiti}
{\thesection}
{1em}
{}

\titleformat{\subsection}
{\raggedright\bfseries \zihao{-4} \heiti}
{\thesubsection}
{1em}
{}

\titleformat{\subsubsection}
{\raggedright\bfseries \zihao{-4} \heiti}
{\thesubsubsection}
{1em}
{}

\definecolor{xblue}{RGB}{0,0,148}

% \setmonofont{../assets/CascadiaCode.ttf}

\lstset{
    backgroundcolor=\color{white},
    keywordstyle=\color{blue},
    numberstyle=\color[RGB]{0,192,192},
    commentstyle=\color[RGB]{0,96,96},
    stringstyle=\color[RGB]{128,0,0},
    columns=fullflexible,
    breaklines=true,
    captionpos=b,
    tabsize=4,
    numbers=left,
    frame=single,
    basicstyle=\ttfamily
}

\urlstyle{same}

\floatname{algorithm}{算法}
\renewcommand{\algorithmicrequire}{\textbf{输入:}}
\renewcommand{\algorithmicensure}{\textbf{输出:}}

\makeatletter
\newenvironment{breakablealgorithm}
  {% \begin{breakablealgorithm}
    \begin{center}
      \refstepcounter{algorithm}% New algorithm
      \hrule height.8pt depth0pt \kern2pt% \@fs@pre for \@fs@ruled
      \parskip 0pt
      \renewcommand{\caption}[2][\relax]{% Make a new \caption
        {\raggedright\textbf{\fname@algorithm~\thealgorithm} ##2\par}%
        \ifx\relax##1\relax % #1 is \relax
          \addcontentsline{loa}{algorithm}{\protect\numberline{\thealgorithm}##2}%
        \else % #1 is not \relax
          \addcontentsline{loa}{algorithm}{\protect\numberline{\thealgorithm}##1}%
        \fi
        \kern2pt\hrule\kern2pt
     }
  }
  {% \end{breakablealgorithm}
     \kern2pt\hrule\relax% \@fs@post for \@fs@ruled
   \end{center}
  }
\makeatother

\begin{document}

\begin{titlepage}

\newgeometry{top=2cm, bottom=2cm}

\parbox[c]{8cm}{
    \includegraphics[width=8cm]{hdu.png}
}

\setlength{\parindent}{0pt}
\centering
\vfill
{\zihao{-0} \heiti \textcolor{xblue}{程序设计实践报告}\par}
\vspace{10pt}
{\zihao{-2} \heiti 稀疏矩阵存储与运算\par}
\vfill
{\large \heiti 卓越学院\par
计算机科学英才班\par
鲍溶\par
23060827\par
}
\vfill
\restoregeometry

\end{titlepage}

\renewcommand\contentsname{\textcolor{xblue}{目录}}
    \tableofcontents
\clearpage
\setcounter{page}{1}
